<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	template="/resources/scaffold/pageTemplate.xhtml"
	xmlns:p="http://primefaces.org/ui">

	<ui:param name="pageTitle" value="Crear Rrpp Jefes"/>

	<ui:define name="header">
		Rrpp Jefes
	</ui:define>

	<ui:define name="subheader">
		Crear a new Rrpp Jefes
	</ui:define>

	<ui:define name="footer"/>

	<ui:define name="main">
		<h:form id="create" enctype="multipart/form-data">
			<p:growl id="growl" sticky="true" showDetail="true" life="3000" />

				<p:outputLabel for="rrppJefeNombre" value="Nombre:"/>
				<p:inputText id="rrppJefeNombre" maxLength="50" required="true" value="#{rrppJefe.jefeEntity.usuario.nombre}"/>
				<p:message for="rrppJefeNombre" styleClass="error"/>

					<p:outputLabel for="rrppJefeApellidos" value="Apellidos:"/>
					<p:inputText id="rrppJefeApellidos" maxLength="255" required="true" value="#{rrppJefe.jefeEntity.usuario.apellidos}"/>
					<p:message for="rrppJefeApellidos" styleClass="error"/>
				<h:panelGrid columns="2" id="matchGrid" cellpadding="5"> 
					<p:outputLabel for="rrppJefePassword1" value="Password: "/>
					<p:password id="rrppJefePassword1" match="rrppJefePassword2" label="Password 1" required="true" value="#{rrppJefe.jefeEntity.usuario.password}" />
					<p:message for="rrppJefePassword1" styleClass="error"/>
					<p:outputLabel for="rrppJefePassword2" value="Repite Password: "/>
					<p:password id="rrppJefePassword2"  label="Password 2" required="true" value="#{rrppJefe.jefeEntity.usuario.password}" />
				</h:panelGrid>
					<p:outputLabel for="rrppJefeDni" value="Dni:"/>
					<p:inputMask id="rrppJefeDni" required="true" value="#{rrppJefe.jefeEntity.usuario.dni}" maxlength="9"/>
					<p:message for="rrppJefeDni" styleClass="error"/>

					<p:outputLabel for="rrppJefeEmail" value="Email:"/>
					<p:inputText id="rrppJefeEmail" maxLength="100" required="true" value="#{rrppJefe.jefeEntity.usuario.email}"/>
					<p:message for="rrppJefeEmail" styleClass="error"/>

					<p:outputLabel for="rrppJefeTelefono" value="Teléfono:"/>
					<p:inputMask id="rrppJefeTelefono" maxLength="9" required="true" value="#{rrppJefe.jefeEntity.usuario.telefono}" mask="999999999"/>
					<p:message for="rrppJefeTelefono" styleClass="error"/>

					<p:outputLabel for="rrppJefeFechaNac" value="Fecha de Nacimiento:"/>
					<p:calendar id="rrppJefeFechaNac" pattern="dd-MM-yyyy" mask="true" navigator="true" required="true" value="#{rrppJefe.jefeEntity.usuario.fechanac}" />
					<p:message for="rrppJefeFechaNac" styleClass="error"/>

					<p:outputLabel for="rrppJefeDireccion" value="Direccion:"/>
					<p:inputTextarea id="rrppJefeDireccion" rows="3" cols="30" counter="display" maxlength="255" required="true" counterTemplate="{0} characters remaining." autoResize="false" value="#{rrppJefe.jefeEntity.usuario.direccion}" />
					<h:outputText id="display" />
					<p:message for="rrppJefeDireccion" styleClass="error"/>
					
					<p:selectOneMenu id="rrppJefeSexo" value="#{rrppJefe.jefeEntity.usuario.idsexo}">
            			<f:selectItem itemLabel="Sexo" itemValue="" />
            			<f:selectItems value="#{rrppJefe.ddSexos}" var="sexos" itemLabel="#{sexos.nombre}" itemValue="#{sexos.idsexo}" />
        			</p:selectOneMenu>
					
        			<div class="ui-grid-row">
						<div class="ui-grid-col-4">
							<p:outputLabel for="rrppJefeCodigoPostal" value="Código postal" />
							<h:inputText id="rrppJefeCodigoPostal" value="#{rrppJefe.jefeEntity.usuario.idcodigopostal}" maxlength="5">
								<p:ajax event="blur" update="rrppJefeProvincia" listener="#{rrppJefe.actualizaLocalidadesByCP(rrppJefe.jefeEntity.usuario.idcodigopostal)}" />
							</h:inputText>
						</div>
						<div class="ui-grid-col-4">
							<p:outputLabel for="rrppJefeProvincia" value="Provincia" />
							<h:selectOneMenu id="rrppJefeProvincia" value="#{rrppJefe.jefeEntity.usuario.idcodigopostal}" required="true" requiredMessage="Es necesario escoger un Código Postal">
								<f:selectItem itemValue="#{null}" itemLabel="Seleccionar localidad" />
								<f:selectItems value="#{rrppJefe.codigosPostales}" var="cp" itemLabel="#{cp.localidad} - #{cp.provincia.nombre}" itemValue="#{cp.idcodigopostal}" />
							</h:selectOneMenu>
						</div>
					</div>
				<!-- file upload 
					<p:fileUpload value="#{rrppJefe.imageFile}" mdoe="simple"/>
					<p:commandButton value="Subir Foto" ajax="false" actionListener="#{rrppJefe.storeImage}"/>
					
					<h:outputText value="Foto" />
					<h:panelGrid columns="2" cellpadding="10">
						<p:graphicImage id="rrppJefeFoto" value="#{logo.logo}" rendered="#{detalleEntes.enteAuxiliar.logo != null}" cache="false" height="90" width="250">
					       <f:param name="idEnte" value="#{detalleEntes.enteAuxiliar.idente}" />
					    </p:graphicImage>
						<p:fileUpload id="imageUpload" value="#{detalleEntes.archivoSubida}" mode="simple" skinSimple="true" label="Seleccionar logo" style="width:100%" />
					</h:panelGrid>
							
					<p:message for="imageUpload" />
					
					-->
					
					<p:commandLink value="Save" update="@form" action="#{rrppJefe.create()}" styleClass="btn btn-primary"/>
		</h:form>
	</ui:define>

</ui:composition>